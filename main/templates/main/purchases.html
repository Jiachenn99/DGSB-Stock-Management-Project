{% extends "main/base.html" %}
{% block content %}
{% comment %} <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> 
<!-- <link rel="stylesheet" type="text/css" href="../css/style.css"> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"> {% endcomment %}

<script type="text/javascript">
$(document).ready(function(){
  $('[data-toggle="tooltip"]').tooltip();
  // Animate select box length
  var searchInput = $(".search-box input");
  var inputGroup = $(".search-box .input-group");
  var boxWidth = inputGroup.width();
  searchInput.focus(function(){
    inputGroup.animate({
      width: "300"
    });
  }).blur(function(){
    inputGroup.animate({
      width: boxWidth
    });
  });
});
</script>

<body>
    <div class="container">
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-sm-4">
                      <div class="show-entries">
                        
                        <form action="{% url 'main:purchases' %}" method = "POST">
                        {% csrf_token %}
                        <span>Show</span>
                        <select name = "drop1">
                          <option value = "5" {% if a == "5" %}selected{%endif%}>5</option>
                          <option value = "10"{% if a == "10" %}selected{%endif%}>10</option>
                          <option value = "15"{% if a == "15" %}selected{%endif%}>15</option>
                          <option value = "20"{% if a == "20" %}selected{%endif%}>20</option>
                        </select>
                        <input type="submit" class="btn btn-outline-dark" value="Submit">
                        </form>
                        
                        
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <h1 class="text-center">Purchases</h1>
                    </div>
          
                    <div class="col-sm-4">
                      <div class="search-box">
                        <div class="input-group">
                            
                            <form method="get" action="{% url 'main:purchases' %}">
                            {% csrf_token %}
                            {% comment %} <button type="submit" ><i class="fas fa-search"></i></button>  {% endcomment %}
                            <div class="input-group-addon">
                            <i class="fas fa-search"></i>
                            </div>
                            <input type="text" name="q" class="form-control" placeholder="Search . . .">                 
                            </form>
                            
                        </div>
                      </div>
                  </div>
              </div>
            </div>
<<<<<<< Updated upstream
=======
            
>>>>>>> Stashed changes
            <table class="table table-bordered">
                <thead>
                    <tr>
                        {% comment %} <th><i class="fas fa-cog"></i></th> {% endcomment %}
                        <th>Purchasing ID</th>
                        <th>PV No.</th>
                        <th>Invoice No.</th>
                        <th>Purchasing Date</th>
                        <th>Supplier Name</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                
                  {% for item in items %}
                  <tr> 
                      {% comment %} <td>
                                <a class="btn btn-primary"><em class="fas fa-edit"></em></a>
                                <a class="btn btn-danger"><em class="fas fa-trash-alt"></em></a>
                      </td> {% endcomment %}
                      <td>{{ item.purchasing_id }}</td>
                      <td>{{ item.pv_no }}</td>
                      <td>{{ item.invoice_no }}</td>
                      <td>{{ item.purchasing_date }}</td>
                      <td>{{ item.supplier }}</td>
                      <td>{{ item.description }}</td>
                  </tr>
                  {% endfor %}

                </tbody>
            </table>
            
            {% comment %} {% include "main/pagination.html" %} {% endcomment %}
            {% if items.has_other_pages %}
            <div class="clearfix">
            <div class = "hint-text">Showing <b> {{ items }} </b> with a total of <b> {{ query_count }} </b>  entries</div>
            
              <ul class="pagination">
                {% if items.has_previous %}
                  <li class = "page-item"><a class="page-link" href="?page={{ items.previous_page_number }}">&laquo;</a></li>
                {% else %}
                  <li class="page-item disabled"><span>&laquo;</span></li>
                {% endif %}
                {% for i in items.paginator.page_range %}
                  {% if items.number == i %}
                    <li class="page-item active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                  {% else %}
                    <li class = "page-item" ><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                  {% endif %}
                {% endfor %}
                {% if items.has_next %}
                  <li class = "page-item"><a class="page-link" href="?page={{ items.next_page_number }}">&raquo;</a></li>
                {% else %}
                  <li class="page-item disabled"><span>&raquo;</span></li>
                {% endif %}
              </ul>
            </div>    
            {% endif %}
      </div> 
    </div>
</body>
{% endblock content %}